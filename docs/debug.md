# Debugging features

**These features are enabled on development builds only.**

## Generate sample vouchers

`POST https://wom.social/api/debug/create-vouchers/{count=10}`

Generates a new and activated voucher generation request for `count` vouchers.
Vouchers are generated by a test source, at random geographical positions, and with random aims.

**Response format:**

```json
{
    "otcGen": "https://wom.social/vouchers/8ef5b5a770254929903c5008deebd373",
    "pin": "7032"
}
```

## Generate sample payment

`POST https://wom.social/api/debug/create-payment?ackUrl=URL{&amount=10}`

Generates a new and activated payment request for `amount` vouchers and with an acknowledgment URL set to `ackUrl` (URL string must be url-encoded).

Optionally, the request body may contain a JSON object with a simple filter, which will be used to limit which vouchers can be accepted for payment.
The JSON filter object has this structure:

```json
{
    "Aim": "1/1",
    "Bounds": {
        "LeftTop": [ 10.0, 40.0 ],
        "RightBottom": [ 15.0, 50.0 ]
    },
    "MaxAge": 14
}
```

All properties are optional.
`Aim` must be expressed using the aim code (numeric with `/` separators).
`Bounds` are a simple geographic region, with rectangular shape.
Coordinates for `LeftTop` and `RightBottom` are arrays with two value, for latitude and longitude.
`MaxAge` is expressed in days.

**Response format:**

```json
{
    "otcPay": "https://wom.social/payment/a52b66d29a684f028b8048f5aa1fa181",
    "pin": "2099"
}
```
